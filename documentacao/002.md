# Making offüë®üèΩ‚Äçüíª
Programando os servidores e fazendo m√°gica.
## Experi√™ncias e diferen√ßasüí≠
### BunüßÑ
Come√ßando com esta belezura aqui:

![Captura de tela 2025-03-20 125411](https://github.com/user-attachments/assets/2a0027e8-d890-4a13-b291-935d2bf44457)

O bun tem uma vari√°vel global 'Bun' que consegue acessar a propriedade serve sem nenhuma necessidade de import√°-la, ent√£o esta primeira linha de import √© totalmente desnecess√°ria, assim como atribuir Bun.serve
a alguma constante, j√° que eu consigo passar os par√¢metros do servidor diretamente nele. Por√©m, em alguns bocados de vezes, a est√©tica e o glamour falam mais alto que a l√≥gica, ent√£o deixaremos desta forma.

Seguindo nossa constru√ß√£o, usamos ent√£o a constante app e passamos para ela um objeto, neste objetos, passamos tr√™s propriedades:
* port: A porta na qual nosso servidor estar√° exposto para comunica√ß√£o localmente, escolherei a 3000, por comodidade.
* routes: Um objeto com as rotas que queremos criar em nosso servidor.
* error: uma fun√ß√£o de tratamento de erros que retorna uma mensagem de erro caso alguma exce√ß√£o aconte√ßa.

![Captura de tela 2025-03-20 130714](https://github.com/user-attachments/assets/32e1dbc9-7c87-4be0-97d6-8d9ac614f07d)

As rotas s√£o muito simples de serem definidas, tudo o que eu precisei fazer foi escrev√™-las entre aspas e atribuir para elas um objeto chamado Response, no qual podemos passar como json ou http simples.

![image](https://github.com/user-attachments/assets/f2198841-1960-47f8-9e4c-83d514535aae)

Tamb√©m podemos atribuir imagens a esses objetos Response. Atrav√©s da fun√ß√£o file do bun, que, mais uma vez, n√£o precisa ser importada j√° que podemos acess√°-la diretamente atrav√©s do 'Bun', precisamos passar o caminho
do arquivo no qual queremos que seja lido. Por√©m, no caso de arquivos bin√°rios, precisamos usar tamb√©m outro m√©todo do bun chamado bytes, que retorna um array de bytes, necess√°rio para que o bun carregue a imagem.
Tamb√©m posso atribuir headers √†s rotas. √Äs vezes √© essencial que especifiquemos o tipo do conte√∫do da rota para que o navegador entenda o que deve mostrar.

![image](https://github.com/user-attachments/assets/85891631-4467-490f-9c83-a29e08b2cd82)
![image](https://github.com/user-attachments/assets/039ad6a8-34d6-407e-bc88-319c4946a5ad)

No bun, tamb√©m somos capazes de passar m√©todos http para nossas rotas:

![Captura de tela 2025-03-15 000210](https://github.com/user-attachments/assets/1e1dec05-40d5-40e9-83d8-ca74765cd602)

Mas, como a vida √©, quase sempre, uma m√£e desnaturada, este n√£o foi o resultado final. Durante a constru√ß√£o do servidor node, eu n√£o consegui passar json nos corpos da requisi√ß√£o, ent√£o, para que ficassem o mais parecidos poss√≠vel, o desfecho foi esse:

![image](https://github.com/user-attachments/assets/03871bce-bb4b-4003-a1b6-1d37406b5f27)
* OBS: mudei o tema do meu vscode, ent√£o existe uma diferen√ßa visual nas screenshots.

O pr√≥ximo passo foi adicionar um arquivo html como resposta de uma rota. Esta rota foi a √∫nica dificuldade que eu tive enquanto programando o servidor com bun. A leitura deste arquivo √© feita da mesma forma que a de uma imagem, a diferen√ßa est√° apenas no m√©todo que usamos, ao inv√©s de bytes, usamos o m√©todo text, que converte o arquivo lido em texto(ou string). Por√©m, o servidor n√£o conseguia ler a rota  de forma alguma. Tentei v√°rias coisas, como mudar o tipo do conte√∫do no header, usar o m√©todo bytes, procurar por algum m√©todo espec√≠fico para html e nada estava funcionando, at√© que dei o bra√ßo a torcer e pedi ajuda a algum LLM da vida.
Fui recomendado a atribuir esse arquivo a alguma vari√°vel no topo do c√≥digo, assim o arquivo seria procurado antes mesmo do servidor ser iniciado, j√° que, por algum motivo, await n√£o tinha nenhum efeito sobre este arquivo, o que n√£o fez muito sentido para mim. Mas, de uma forma ou de outra, fez sentido, j√° que o arquivo carregou ap√≥s isso. Provavelmente - leia-se 'com certeza' - eu estava errado quanto a forma na qual o servidor bun trabalha.

![Captura de tela 2025-03-15 011211](https://github.com/user-attachments/assets/2a9b060c-ef12-46e7-bbfc-038c07e3dc77)
* OBS: N√£o tem m√©todo usado junto √† fun√ß√£o na screenshot, mas nenhum funcionava.

![image](https://github.com/user-attachments/assets/a9bf9c3b-e810-4833-be61-bf25f9ca6098)
![image](https://github.com/user-attachments/assets/b8960922-d829-48b4-b116-a8e550b886f5)
![image](https://github.com/user-attachments/assets/2e45536a-ec55-43f2-bde0-bad317be35d6)

As outras rotas foram mais do mesmo.

![image](https://github.com/user-attachments/assets/bea17b89-f3ac-42a9-b20d-49e4a6b8109d)

E, por √∫ltimo, a fun√ß√£o erro.

![image](https://github.com/user-attachments/assets/2f04f8aa-b765-4450-a97b-dd989c9b05c0)

Construir um servidor bun foi, de fato, uma experi√™ncia √≥tima. √â uma ferramenta bastante f√°cil de se utilizar e tem uma documenta√ß√£o bastante robusta e completa e que ajudou bastante na constru√ß√£o deste servidor. Desenvolver com bun realmente tornou o trabalho muito mais r√°pido e eficiente, reduzindo a necessidade de diversas coisas pelo fato do bun te oferecer uma gama de outras ferramentas para desenvolvimento de forma nativa, reduzindo n√£o s√≥ a complexidade de construir um servidor como tamb√©m reduzindo o tamanho do c√≥digo.

![image](https://github.com/user-attachments/assets/9155601d-8ead-421b-be05-3f372f2f1155)
* 50 linhas de c√≥digo


