# Benchmarküí™üèæ
Testes de carga para os servidores
## Especifica√ß√µesü§ì
Bem, quero apenas salientar que eu n√£o tenho boas m√©tricas para decidir a carga de testes. O que seria um teste de carga alta? Quantas conex√µes? Quantas requisi√ß√µes? Quanto tempo? Ent√£o tirei as coisas da minha cabe√ßa
mesmo. "Ah, mas esse teste leve est√° muito pesado", "Esse teste pesado est√° muito leve.". Eu realmente n√£o sei, fique a vontade para me corrigir, me xingar ou algo assim.
### Configura√ß√µes:
* Conex√µes (-c): N√∫mero de conex√µes simult√¢neas que o autocannon abrir√° contra o servidor.
* Dura√ß√£o (-d): Tempo de dura√ß√£o dos testes em segundos.
* Pipelining (-p): Uma conex√£o pode enviar v√°rias requisi√ß√µes em sequ√™ncia sem aguardar a resposta da anterior.
* M√©todo (-m): M√©todo http usado na requisi√ß√£o (Padr√£o √© GET).
### M√©tricas:
* Lat√™ncia: Quanto menor a lat√™ncia, melhor. Significa que o servidor demora menos para responder √†s requisi√ß√µes.
* Req/Sec: Indica quantas requisi√ß√µes, em m√©dia, o servidor conseguiu lidar por segundo. Quanto maior, melhor.
* Bytes/Sec: Volume de dados que o servidor conseguiu entregar a cada segundo.
* Erros e timeouts:
  - Erros: N√∫meros de requsi√ß√µes que retornaram algum erro.
  - Timeouts: N√∫meros de requisi√ß√µes que n√£o receberam resposta dentro do tempo limite
* Totais:
  - Total requests: Quantidade total de requisi√ß√µes enviadas durante o teste.
  - Total read: Quantidade total de dados recebidos do servidor (Em bytes).
  - Total written: Quantidade total de dados enviados para o servidor.
### Stats:
* 1%, 2.5%, 50%, 97.5%, 99% : Distribui√ß√£o estat√≠stica de m√©tricas em cada percentil.
  - Ex: Se no campo lat√™ncia, caso 50% (mediana) est√° 100ms, isso significa que metade das requisi√ß√µes foram atendidas em at√© 100ms.
* Avg: ${M√©trica} m√©dia, em ms.
* Stdev (desvio padr√£o): Indica quanto os valores de uma m√©trica variam em rela√ß√£o √† m√©dia.
  - Stdev baixo: menor varia√ß√£o entre os resultados, indicando que s√£o mais consistentes.
  - Stdev alto: valores mais dispersos, indicando uma maior varia√ß√£o entre os resultados.  
* Min e max: Valor m√≠nimo e valor m√°ximo de ${M√©trica} observados por segundo.

## Aviso‚ö†Ô∏è
N√£o irei testar todas as rotas dos servidores pois h√° muitas com o mesmo tipo de conte√∫do, o que torna testar todas desnecess√°rio.
* Usarei as stats Avg para termos de compara√ß√£o, assim como n√∫mero total de requisi√ß√µes e erros.
* O primeiro quadro √© sempre o do servidor bun, enquanto o segundo √© do node (cima e baixo).

## Testes de cargaüî®
Come√ßando as brincadeiras

### Testes de carga leveü™∂
Usarei as configura√ß√µes default do autocannon
* N√∫mero de conex√µes: 10
* Dura√ß√£o do teste: 10 segundos
* N√∫mero de pipelines: 1
#### Rota: '/'
* Bun:
![Captura de tela 2025-03-17 010941](https://github.com/user-attachments/assets/44e2ffa5-59e7-414d-bc09-6f05c72d7b56)
* Node:
![Captura de tela 2025-03-17 110901](https://github.com/user-attachments/assets/ec46fdbc-d2de-4fad-8f2e-720a98bcfa89)
##### Compara√ß√£o:
* Lat√™ncia avg: Bun
* Req/Sec avg: Bun
* Bytes/sec: Bun
* Total de requisi√ß√µes: Bun
* Total de dados lidos: Bun
* Menos erros: Nenhum (zero erros).
* Menores varia√ß√µes de resultados: Bun

